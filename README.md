# Create_table_PostgreSQL

Проект предназначен для автоматического создания рабочей таблицы `file_registry` в базе PostgreSQL, предназначенной для учёта SFTP-файлов (путь, дата загрузки, статус, поставщик, отчётный период, клиент, тип отчёта).

##  Цели проекта

- Пример правильной схемы таблицы для учёта файлов (плейсхолдеры ключевых метрик).
- Быстрое развертывание структуры в PostgreSQL без ручного копирования SQL.
- Основа для расширения логики учёта в ETL или аналитических системах.

##  Как использовать

1. Склонируй репозиторий:
    ```bash
    git clone https://github.com/KKKuznetsov/Create_table_PostgreSQL.git
    cd Create_table_PostgreSQL
    ```

2. Открой **pgAdmin** и подключись к своей базе (например, `etl_demo`).

3. Выполни скрипт:
    - Открой `Create_table_PostgreSQL.sql` через **Query Tool**
    - Запусти (F5)
    - Убедись, что в схеме `ops` появилась таблица `file_registry` и индексы
  
##  Что создаётся

Таблица `ops.file_registry` с полями:

| Поле             | Описание |
|------------------|-----------|
| `id`             | Уникальный идентификатор (BIGSERIAL) |
| `file_path`      | Путь к файлу на SFTP (TEXT) |
| `uploaded_at`    | Дата загрузки на SFTP (TIMESTAMP) |
| `status`         | Статус файла (`NEW`, `PROCESSING`, `PROCESSED`, `ERROR`) |
| `data_provider`  | Источник: `Сеть` или `Дистрибьютор` |
| `report_year`    | Год отчёта (SMALLINT) |
| `report_month`   | Месяц отчёта (SMALLINT) |
| `client_name`    | Название клиента (TEXT) |
| `report_type`    | Тип отчёта (`Закупки`, `Продажи`, `Остатки`, ...) |
| `created_at`     | Дата создания записи (TIMESTAMP, DEFAULT CURRENT_TIMESTAMP) |

Созданные индексы позволяют быстро фильтровать по статусу, поставщику, периоду и клиенту.
